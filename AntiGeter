-- [[ CONFIGURATION ]]
local _STEALTH_FARM = false

-- [[ LOGIC CORE WITH MONITORING ]]
task.spawn(function()
    print("--- HAZExBANTAI MONITOR ACTIVE ---")
    
    while true do
        task.wait(0.5)
        
        if _STEALTH_FARM then
            local success, err = pcall(function()
                local rs = game:GetService("ReplicatedStorage")
                local giftFolder = rs:WaitForChild("GiftFolder", 5)
                
                if giftFolder then
                    -- 1. Cek Status Hadiah
                    print("Checking Gift Status...")
                    giftFolder.GetClaimed:InvokeServer()
                    
                    -- 2. Proses Ambil Hadiah
                    local targets = {"3", "6", "9", "1"}
                    for _, id in ipairs(targets) do
                        task.spawn(function()
                            local result = giftFolder.ClaimGift:InvokeServer(id)
                            -- Jika server mengembalikan jawaban, kita print
                            print("Attempt Claim Box ["..id.."] | Status: Sent")
                        end)
                    end

                    -- 3. Sinkronisasi Tas
                    local shop = rs:FindFirstChild("ShopRemoteEvent", true)
                    if shop then
                        shop:FireServer("requestItems")
                        print("Inventory Synced!")
                    end
                else
                    print("Error: GiftFolder not found!")
                end
            end)

            if not success then
                print("Critical Error: " .. tostring(err))
            end
            
            task.wait(3.5)
        end
    end
end)
