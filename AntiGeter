-- Hapus UI lama jika ada
if game.CoreGui:FindFirstChild("HAZExBANTAI_V23") then
    game.CoreGui:FindFirstChild("HAZExBANTAI_V23"):Destroy()
end

local ScreenGui = Instance.new("ScreenGui")
local MainFrame = Instance.new("Frame")
local UIListLayout = Instance.new("UIListLayout")

-- [[ STATUS VARIABLE ]]
local _ACS_BANTAI = false
local _ANTI_CRIMINAL = false
local _AUTO_POINTS = false
local _UI_VISIBLE = true

-- [[ UI SETUP - Dibuat sangat simpel agar pasti muncul ]]
ScreenGui.Name = "HAZExBANTAI_V23"
ScreenGui.Parent = game:GetService("CoreGui") or game.Players.LocalPlayer:WaitForChild("PlayerGui")
ScreenGui.ResetOnSpawn = false

MainFrame.Parent = ScreenGui
MainFrame.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
MainFrame.BorderSizePixel = 0
MainFrame.Position = UDim2.new(0.5, -90, 0.4, 0)
MainFrame.Size = UDim2.new(0, 180, 0, 190)
MainFrame.Active = true
MainFrame.Draggable = true
Instance.new("UICorner", MainFrame)

UIListLayout.Parent = MainFrame
UIListLayout.HorizontalAlignment = Enum.HorizontalAlignment.Center
UIListLayout.Padding = UDim.new(0, 8)
UIListLayout.SortOrder = Enum.SortOrder.LayoutOrder

local Title = Instance.new("TextLabel", MainFrame)
Title.Text = "HAZExBANTAI"
Title.Size = UDim2.new(1, 0, 0, 35)
Title.TextColor3 = Color3.fromRGB(255, 0, 0)
Title.Font = Enum.Font.GothamBold
Title.TextSize = 14
Title.BackgroundTransparency = 1

-- [[ FUNGSI TOMBOL ]]
local function CreateBtn(name, callback)
    local Btn = Instance.new("TextButton", MainFrame)
    Btn.Size = UDim2.new(0.85, 0, 0, 30)
    Btn.BackgroundColor3 = Color3.fromRGB(35, 35, 35)
    Btn.Text = name .. " [OFF]"
    Btn.TextColor3 = Color3.fromRGB(200, 200, 200)
    Btn.Font = Enum.Font.GothamBold
    Btn.TextSize = 10
    Instance.new("UICorner", Btn)

    local active = false
    Btn.MouseButton1Click:Connect(function()
        active = not active
        Btn.Text = name .. (active and " [ON]" or " [OFF]")
        Btn.TextColor3 = active and Color3.fromRGB(0, 255, 0) or Color3.fromRGB(200, 200, 200)
        callback(active)
    end)
end

CreateBtn("UNLIMITED AMMO", function(v) _ACS_BANTAI = v end)
CreateBtn("ANTI CRIMINAL", function(v) _ANTI_CRIMINAL = v end)
CreateBtn("AUTO POINTS", function(v) _AUTO_POINTS = v end)
CreateBtn("OPEN SIMPLESPY", function() 
    loadstring(game:HttpGet("https://raw.githubusercontent.com/78n/SimpleSpy/main/SimpleSpySource.lua"))()
end)

-- [[ HIDE UI ]]
game:GetService("UserInputService").InputBegan:Connect(function(input, chat)
    if not chat and input.KeyCode == Enum.KeyCode.H then
        _UI_VISIBLE = not _UI_VISIBLE
        MainFrame.Visible = _UI_VISIBLE
    end
end)

-- [[ LOOPING LOGIC ]]
task.spawn(function()
    while task.wait(0.8) do
        pcall(function()
            local lp = game.Players.LocalPlayer
            
            if _ACS_BANTAI then
                for _, v in pairs(lp.Backpack:GetChildren()) do
                    local s = v:FindFirstChild("ACS_Settings") or v:FindFirstChild("Settings")
                    if s then require(s).Ammo = 999 end
                end
            end

            if _AUTO_POINTS then
                local remote = game.ReplicatedStorage:FindFirstChild("ClaimGift")
                if remote then
                    for i = 1, 12 do remote:FireServer(tostring(i)) end
                end
            end
        end)
    end
end)
