local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = "HAZExBANTAI_V8"
ScreenGui.Parent = game.CoreGui
ScreenGui.ResetOnSpawn = false

-- [[ LOADING SCREEN SYSTEM ]]
local function ShowLoading()
    local LoadFrame = Instance.new("Frame", ScreenGui)
    LoadFrame.Size = UDim2.new(1, 0, 1, 0)
    LoadFrame.BackgroundColor3 = Color3.fromRGB(10, 10, 10)
    LoadFrame.ZIndex = 10
    
    local LoadTitle = Instance.new("TextLabel", LoadFrame)
    LoadTitle.Size = UDim2.new(1, 0, 0.4, 0)
    LoadTitle.Text = "HAZExBANTAI"
    LoadTitle.TextColor3 = Color3.fromRGB(255, 0, 0)
    LoadTitle.Font = Enum.Font.GothamBold
    LoadTitle.TextSize = 40
    LoadTitle.BackgroundTransparency = 1
    
    local Quote = Instance.new("TextLabel", LoadFrame)
    Quote.Size = UDim2.new(1, 0, 0.6, 0)
    Quote.Text = '" PSIKOPAT BUKAN LAH SEGALANYA "'
    Quote.TextColor3 = Color3.fromRGB(200, 200, 200)
    Quote.Font = Enum.Font.GothamItalic
    Quote.TextSize = 18
    Quote.BackgroundTransparency = 1
    
    task.wait(2.5)
    LoadFrame:Destroy()
end
task.spawn(ShowLoading)

-- [[ UI MAIN SETUP ]]
local MainFrame = Instance.new("Frame", ScreenGui)
MainFrame.BackgroundColor3 = Color3.fromRGB(15, 15, 15)
MainFrame.Position = UDim2.new(0.5, -200, 0.5, -150)
MainFrame.Size = UDim2.new(0, 420, 0, 320)
MainFrame.Active = true
MainFrame.Draggable = true
Instance.new("UICorner", MainFrame)

local Sidebar = Instance.new("Frame", MainFrame)
Sidebar.BackgroundColor3 = Color3.fromRGB(10, 10, 10)
Sidebar.Size = UDim2.new(0, 120, 1, 0)
Instance.new("UICorner", Sidebar)

local Content = Instance.new("Frame", MainFrame)
Content.Position = UDim2.new(0, 130, 0, 10)
Content.Size = UDim2.new(0, 280, 0, 300)
Content.BackgroundTransparency = 1

local Pages = {
    Combat = Instance.new("ScrollingFrame", Content),
    Movement = Instance.new("ScrollingFrame", Content),
    Utility = Instance.new("ScrollingFrame", Content),
    Target = Instance.new("ScrollingFrame", Content)
}

for _, p in pairs(Pages) do
    p.Size = UDim2.new(1, 0, 1, 0); p.BackgroundTransparency = 1; p.Visible = false; p.ScrollBarThickness = 0
    Instance.new("UIListLayout", p).Padding = UDim.new(0, 5)
end
Pages.Combat.Visible = true

-- [[ FUNGSI TEXTBOX & UI HELPER ]]
local function CreateLabel(text, parent)
    local lbl = Instance.new("TextLabel", parent)
    lbl.Text = text
    lbl.Size = UDim2.new(1, 0, 0, 20)
    lbl.TextColor3 = Color3.fromRGB(255, 0, 0)
    lbl.Font = Enum.Font.GothamBold
    lbl.BackgroundTransparency = 1
    lbl.TextSize = 12
end

local function CreateTextBox(placeholder, parent, callback)
    local Box = Instance.new("TextBox", parent)
    Box.Size = UDim2.new(0.95, 0, 0, 35)
    Box.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
    Box.PlaceholderText = placeholder
    Box.Text = ""
    Box.TextColor3 = Color3.fromRGB(255, 255, 255)
    Box.Font = Enum.Font.Gotham
    Instance.new("UICorner", Box)
    Box.FocusLost:Connect(function(ep) if ep then callback(Box.Text); Box.Text = "" end end)
end

-- [[ LOGIC TARGETING KILL ]]
local killTarget = nil
local isKilling = false

task.spawn(function()
    while true do
        if isKilling and killTarget and killTarget.Character and killTarget.Character:FindFirstChild("HumanoidRootPart") then
            pcall(function()
                -- Teleport ke belakang target (Backstab Position)
                game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = killTarget.Character.HumanoidRootPart.CFrame * CFrame.new(0, 0, 2.5)
            end)
        end
        task.wait()
    end
end)

-- [[ TAB BUILDER ]]
local function AddTab(name, pos, page)
    local T = Instance.new("TextButton", Sidebar)
    T.Size = UDim2.new(0.9, 0, 0, 35); T.Position = UDim2.new(0.05, 0, 0, pos)
    T.Text = name; T.BackgroundColor3 = Color3.fromRGB(20, 20, 20); T.TextColor3 = Color3.fromRGB(255, 255, 255)
    T.Font = Enum.Font.Gotham; Instance.new("UICorner", T)
    T.MouseButton1Click:Connect(function()
        for _, pg in pairs(Pages) do pg.Visible = false end
        page.Visible = true
    end)
end

AddTab("Combat", 60, Pages.Combat)
AddTab("Movement", 100, Pages.Movement)
AddTab("Utility", 140, Pages.Utility)
AddTab("Targeting", 180, Pages.Target)

---------------------------------------------------------
-- TARGETING PAGE FEATURES
---------------------------------------------------------

-- 1. KILL TARGET BY NAME
CreateLabel("KILL TARGET (TYPE NAME + ENTER)", Pages.Target)
CreateTextBox("Nama Player untuk di BANTAI...", Pages.Target, function(txt)
    for _, p in pairs(game.Players:GetPlayers()) do
        if string.find(p.Name:lower(), txt:lower()) or string.find(p.DisplayName:lower(), txt:lower()) then
            killTarget = p
            isKilling = true
            return
        end
    end
end)

local StopKill = Instance.new("TextButton", Pages.Target)
StopKill.Size = UDim2.new(0.95, 0, 0, 30)
StopKill.Text = "STOP KILL TARGET"
StopKill.BackgroundColor3 = Color3.fromRGB(150, 0, 0)
StopKill.TextColor3 = Color3.fromRGB(255, 255, 255)
StopKill.Font = Enum.Font.GothamBold
Instance.new("UICorner", StopKill)
StopKill.MouseButton1Click:Connect(function() isKilling = false; killTarget = nil end)

-- 2. CUSTOM SPEED
CreateLabel("SET CUSTOM SPEED", Pages.Target)
CreateTextBox("Input Speed (Default 16)...", Pages.Target, function(txt)
    local n = tonumber(txt)
    if n then game.Players.LocalPlayer.Character.Humanoid.WalkSpeed = n end
end)

-- 3. TP TO PLAYER
CreateLabel("QUICK TELEPORT", Pages.Target)
CreateTextBox("Teleport ke Nama...", Pages.Target, function(txt)
    for _, p in pairs(game.Players:GetPlayers()) do
        if string.find(p.Name:lower(), txt:lower()) then
            game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = p.Character.HumanoidRootPart.CFrame
        end
    end
end)

-- [[ MINIMIZE ]]
local MiniBtn = Instance.new("TextButton", ScreenGui)
MiniBtn.Size = UDim2.new(0, 45, 0, 45); MiniBtn.Position = UDim2.new(0, 10, 0.4, 0)
MiniBtn.Text = "H"; MiniBtn.BackgroundColor3 = Color3.fromRGB(255, 0, 0); MiniBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
MiniBtn.Font = Enum.Font.GothamBold; MiniBtn.Visible = false; MiniBtn.Draggable = true; Instance.new("UICorner", MiniBtn).CornerRadius = UDim.new(1, 0)
MiniBtn.MouseButton1Click:Connect(function() MainFrame.Visible = true; MiniBtn.Visible = false end)

local CloseBtn = Instance.new("TextButton", MainFrame)
CloseBtn.Text = "â€”"; CloseBtn.Size = UDim2.new(0, 30, 0, 30); CloseBtn.Position = UDim2.new(1, -35, 0, 5)
CloseBtn.BackgroundTransparency = 1; CloseBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
CloseBtn.MouseButton1Click:Connect(function() MainFrame.Visible = false; MiniBtn.Visible = true end)
